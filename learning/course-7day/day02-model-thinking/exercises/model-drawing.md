# Day 2 练习：绘制OpenClaw领域模型

## 练习目标

通过绘制领域模型，理解OpenClaw的结构，掌握模型思维的基本方法。

---

## 任务一：识别实体（15分钟）

阅读以下OpenClaw功能描述，识别出至少5个实体。

### 功能描述

OpenClaw是一个AI网关系统，具有以下功能：

1. **消息接收**
   - 从多个渠道接收消息（Telegram、Discord、Slack、iMessage）
   - 每个渠道有自己的配置（token、webhook等）
   - 消息包含：发送者、内容、时间戳、渠道来源

2. **权限管理**
   - 用户分为管理员和普通用户
   - 可以设置白名单，只允许特定用户使用
   - 可以配置每个用户的使用配额

3. **消息路由**
   - 根据消息内容决定发给哪个AI代理
   - 支持命令路由（如/help发给帮助代理）
   - 支持内容路由（如代码问题发给编程代理）

4. **AI代理**
   - 每个代理有自己的配置（模型、温度、系统提示词）
   - 代理可以调用工具（如搜索、代码执行）
   - 代理有状态（在线、离线、忙碌）

5. **响应处理**
   - AI生成的响应通过原渠道返回
   - 支持流式输出
   - 可以转换格式（Markdown转HTML等）

### 实体识别表

| 实体名称 | 说明 | 属性（至少3个） | 行为（至少2个） |
|----------|------|----------------|----------------|
| Message | 消息 | id, content, timestamp | send(), reply() |
| ________ | ________ | ________, ________, ________ | ________(), ________() |
| ________ | ________ | ________, ________, ________ | ________(), ________() |
| ________ | ________ | ________, ________, ________ | ________(), ________() |
| ________ | ________ | ________, ________, ________ | ________(), ________() |
| ________ | ________ | ________, ________, ________ | ________(), ________() |

---

## 任务二：绘制领域图（20分钟）

基于识别的实体，绘制OpenClaw的领域模型图。

### 绘制要求

1. **标出实体** - 用方框表示，包含名称和关键属性
2. **画出关系** - 用箭头表示实体间的关联
3. **划分上下文** - 用虚线框标出至少3个限界上下文

### 参考模板

```
┌─────────────────────────────────────────────────────────┐
│                    消息路由上下文                        │
│  ┌──────────┐         ┌──────────┐                      │
│  │ Message  │────────→│ Router   │                      │
│  └──────────┘         └────┬─────┘                      │
│                            │                            │
│                            ↓                            │
│                      ┌──────────┐                       │
│                      │ Routing  │                       │
│                      │ Rule     │                       │
│                      └──────────┘                       │
└─────────────────────────────────────────────────────────┘
                            │
                            │ 跨上下文关系
                            ↓
┌─────────────────────────────────────────────────────────┐
│                    代理上下文                           │
│  ┌──────────┐         ┌──────────┐                      │
│  │  Agent   │←────────│  Tool    │                      │
│  └──────────┘         └──────────┘                      │
└─────────────────────────────────────────────────────────┘
```

### 你的图

（在此绘制或用工具绘制后贴图）

```































```

---

## 任务三：模型解释（10分钟）

向一个"不懂技术的朋友"解释你的模型。

### 练习要求

用大白话解释：
1. OpenClaw是做什么的？
2. 它有哪些主要"角色"？
3. 它们之间如何协作？

### 你的解释

_________________________________________________________________

_________________________________________________________________

_________________________________________________________________

_________________________________________________________________

---

## 自评清单

- [ ] 识别了至少5个实体
- [ ] 每个实体有明确的属性和行为
- [ ] 画出了实体间的关系
- [ ] 划分了至少3个限界上下文
- [ ] 能用大白话解释模型

---

## 参考答案（完成后对照）

<details>
<summary>点击查看参考答案</summary>

### 主要实体

1. **Message（消息）**
   - 属性：id, userId, channelId, type, content, timestamp
   - 行为：isCommand(), getTargetAgent()

2. **Channel（通道）**
   - 属性：id, type, name, config, status
   - 行为：connect(), disconnect(), send()

3. **Agent（代理）**
   - 属性：id, name, config, status
   - 行为：process(), callTool()

4. **User（用户）**
   - 属性：id, name, role, quota
   - 行为：hasPermission(), checkQuota()

5. **RoutingRule（路由规则）**
   - 属性：id, pattern, targetAgent, priority
   - 行为：matches(), apply()

### 限界上下文

1. **消息接收上下文** - Channel, Message
2. **权限管理上下文** - User, Permission
3. **消息路由上下文** - Message, Router, RoutingRule
4. **AI处理上下文** - Agent, Tool

</details>

---

## 思考与总结

### 最难的部分是什么？

_________________________________________________________________

### 模型思维对你有什么启发？

_________________________________________________________________

### 明天想深入学习什么？

_________________________________________________________________

---

*完成此练习后，你已经初步掌握了模型思维。明天，我们将学习如何用MECE原则画出更严谨的模型图。*
